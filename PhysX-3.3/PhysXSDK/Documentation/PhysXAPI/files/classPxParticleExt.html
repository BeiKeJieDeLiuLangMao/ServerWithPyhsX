<html>
	<head>
		<title>PxParticleExt Class Reference</title>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
		<LINK HREF="NVIDIA.css" REL="stylesheet" TYPE="text/css">
	</head>
	<body bgcolor="#FFFFFF">
		<div id="header">
			<hr class="first">
			<img alt="" src="images/PhysXlogo.png" align="middle"> <br>
			<center>
				<a class="qindex" href="main.html">Main Page</a> &nbsp; 
				<a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; 
				<a class="qindex" href="annotated.html">Compound List</a> &nbsp; 
				<a class="qindex" href="functions.html">Compound Members</a> &nbsp;  
			</center>
			<hr class="second">
		</div>
<!-- Generated by Doxygen 1.8.3.1 -->
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classPxParticleExt-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">PxParticleExt Class Reference<div class="ingroups"><a class="el" href="group__extensions.html">Extensions</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="PxParticleExt_8h_source.html">PxParticleExt.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPxParticleExt_1_1IndexPool.html">IndexPool</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class to manage particle indices. Extension particle index management can be useful if no application side particle index allocation functionality is available. An <a class="el" href="classPxParticleExt_1_1IndexPool.html" title="Class to manage particle indices. Extension particle index management can be useful if no application...">PxParticleExt::IndexPool</a> instance is meant to be used for one PxParticleSystem/PxParticleFluid instance. The instance can be created with <a class="el" href="classPxParticleExt.html#ab1c48052580ebe5df919b6b5505a9bad" title="Creates a PxParticlesExt::IndexPool instance.">PxParticleExt::createIndexPool()</a>.  <a href="classPxParticleExt_1_1IndexPool.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structPxParticleExt_1_1ParticleBounds.html">ParticleBounds</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a5e6cfaf89ef796fb909f5e8e583a7cef"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="group__foundation.html#ga07326f81f9e8f494487f0ff1e50c0d17">PxU32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPxParticleExt.html#a5e6cfaf89ef796fb909f5e8e583a7cef">buildBoundsHash</a> (<a class="el" href="group__foundation.html#ga07326f81f9e8f494487f0ff1e50c0d17">PxU32</a> *sortedParticleIndices, <a class="el" href="structPxParticleExt_1_1ParticleBounds.html">ParticleBounds</a> *particleBounds, const <a class="el" href="classPxStrideIterator.html">PxStrideIterator</a>&lt; const <a class="el" href="classPxVec3.html">PxVec3</a> &gt; &amp;positionBuffer, const <a class="el" href="group__foundation.html#ga07326f81f9e8f494487f0ff1e50c0d17">PxU32</a> validParticleRange, const <a class="el" href="group__foundation.html#ga07326f81f9e8f494487f0ff1e50c0d17">PxU32</a> *validParticleBitmap, const <a class="el" href="group__foundation.html#ga07326f81f9e8f494487f0ff1e50c0d17">PxU32</a> hashSize, const <a class="el" href="group__foundation.html#ga07326f81f9e8f494487f0ff1e50c0d17">PxU32</a> maxBounds, const <a class="el" href="group__foundation.html#gad567a025d5e084c3b953c7ad755fc2b6">PxReal</a> gridSpacing)</td></tr>
<tr class="memdesc:a5e6cfaf89ef796fb909f5e8e583a7cef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes particle bounds by sorting particle positions into a spatial hash grid.  <a href="#a5e6cfaf89ef796fb909f5e8e583a7cef">More...</a><br/></td></tr>
<tr class="separator:a5e6cfaf89ef796fb909f5e8e583a7cef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1c48052580ebe5df919b6b5505a9bad"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classPxParticleExt_1_1IndexPool.html">IndexPool</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPxParticleExt.html#ab1c48052580ebe5df919b6b5505a9bad">createIndexPool</a> (<a class="el" href="group__foundation.html#ga07326f81f9e8f494487f0ff1e50c0d17">PxU32</a> maxParticles)</td></tr>
<tr class="memdesc:ab1c48052580ebe5df919b6b5505a9bad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a PxParticlesExt::IndexPool instance.  <a href="#ab1c48052580ebe5df919b6b5505a9bad">More...</a><br/></td></tr>
<tr class="separator:ab1c48052580ebe5df919b6b5505a9bad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78c8337d805702f66993612762e20438"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classPxParticleExt_1_1IndexPool.html">IndexPool</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classPxParticleExt.html#a78c8337d805702f66993612762e20438">createIndexPool</a> (<a class="el" href="group__foundation.html#ga07326f81f9e8f494487f0ff1e50c0d17">PxU32</a> maxParticles, <a class="el" href="group__foundation.html#ga07326f81f9e8f494487f0ff1e50c0d17">PxU32</a> validParticleRange, const <a class="el" href="group__foundation.html#ga07326f81f9e8f494487f0ff1e50c0d17">PxU32</a> *validParticleBitmap)</td></tr>
<tr class="memdesc:a78c8337d805702f66993612762e20438"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a PxParticlesExt::IndexPool instance initialized with a preallocated set of indices specified with a bitmap.  <a href="#a78c8337d805702f66993612762e20438">More...</a><br/></td></tr>
<tr class="separator:a78c8337d805702f66993612762e20438"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a5e6cfaf89ef796fb909f5e8e583a7cef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="group__foundation.html#ga07326f81f9e8f494487f0ff1e50c0d17">PxU32</a> PxParticleExt::buildBoundsHash </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__foundation.html#ga07326f81f9e8f494487f0ff1e50c0d17">PxU32</a> *&#160;</td>
          <td class="paramname"><em>sortedParticleIndices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPxParticleExt_1_1ParticleBounds.html">ParticleBounds</a> *&#160;</td>
          <td class="paramname"><em>particleBounds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classPxStrideIterator.html">PxStrideIterator</a>&lt; const <a class="el" href="classPxVec3.html">PxVec3</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>positionBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__foundation.html#ga07326f81f9e8f494487f0ff1e50c0d17">PxU32</a>&#160;</td>
          <td class="paramname"><em>validParticleRange</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__foundation.html#ga07326f81f9e8f494487f0ff1e50c0d17">PxU32</a> *&#160;</td>
          <td class="paramname"><em>validParticleBitmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__foundation.html#ga07326f81f9e8f494487f0ff1e50c0d17">PxU32</a>&#160;</td>
          <td class="paramname"><em>hashSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__foundation.html#ga07326f81f9e8f494487f0ff1e50c0d17">PxU32</a>&#160;</td>
          <td class="paramname"><em>maxBounds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__foundation.html#gad567a025d5e084c3b953c7ad755fc2b6">PxReal</a>&#160;</td>
          <td class="paramname"><em>gridSpacing</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes particle bounds by sorting particle positions into a spatial hash grid. </p>
<p>Given a strided array of particle positions, this function partitions the particles into subsets of nearby particles by mapping the particle positions onto a 3-dimensional grid and creating <a class="el" href="structPxParticleExt_1_1ParticleBounds.html">ParticleBounds</a> data structures for each occupied grid cell.</p>
<p>Each returned <a class="el" href="structPxParticleExt_1_1ParticleBounds.html">ParticleBounds</a> data structure can be used to determine the indices of the particles belonging to the same grid cell. Particle indices of one grid cell are returned as contiguous blocks in the sortedParticleIndices buffer and can be found within the range [firstParticle, firstParticle + numParticles - 1]. Each returned <a class="el" href="structPxParticleExt_1_1ParticleBounds.html">ParticleBounds</a> further contains an AABB "bounds" that tightly fits all particle positions within the grid cell.</p>
<p>The number of created <a class="el" href="structPxParticleExt_1_1ParticleBounds.html">ParticleBounds</a> can be retrieved via the return value. The user can cap the maximum amount of generated <a class="el" href="structPxParticleExt_1_1ParticleBounds.html">ParticleBounds</a> via the maxBounds parameter. Particles that would cause this maximum to be exceeded will be skipped over and will not be part of any returned <a class="el" href="structPxParticleExt_1_1ParticleBounds.html">ParticleBounds</a>. (Note that this also hold when maxBounds is equal to hashSize. Thus, in the worst case, if no particle should ever be skipped over by the algorithm "hashSize" must be at least equal to numParticles)</p>
<p>The user is responsible for allocating the output buffers sortedParticleIndices (for at least numParticles entries) and particleBounds (for at least maxBounds entries).</p>
<p>The size of a cubical grid cell can be tuned by setting the gridSpacing parameter.</p>
<p>The user supplied hashSize must be a power of two.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">sortedParticleIndices</td><td>Pointer to user allocated array of size numParticles where the sorted particle indices will be written to. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">particleBounds</td><td>Pointer to user allocated array of size maxBounds where the <a class="el" href="structPxParticleExt_1_1ParticleBounds.html">ParticleBounds</a> will be written to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">positionBuffer</td><td>Strided data of input particle positions. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">validParticleRange</td><td>Range of valid particles within validParticleBitmap. (See <a class="el" href="classPxParticleReadData.html#ac8fb8c413f919e1f7e95700a45859c35" title="Index after the last valid particle (PxParticleFlag.eVALID set). Its 0 if there are no valid particle...">PxParticleReadData.validParticleRange</a>). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">validParticleBitmap</td><td>Bitmap specifying valid slots in positionBuffer. (See <a class="el" href="classPxParticleReadData.html#af5fe5cf59728941236f20bcd2aeb7276" title="Bitmap marking valid particle indices. The bitmap is defined between [0, (PxParticleReadData.validParticleRange-1) &gt;&gt; 5].">PxParticleReadData.validParticleBitmap</a>). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hashSize</td><td>Hash size used internally by the hashing algorithm. Must be a power of two. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxBounds</td><td>Maximum number of bounds to be returned. Must be smaller or equal than hashSize. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">gridSpacing</td><td>Side length of each cubical grid cell. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PxU32. Number of <a class="el" href="structPxParticleExt_1_1ParticleBounds.html">ParticleBounds</a> data structures written to the particleBounds buffer. Smaller or equal than maxBounds. </dd></dl>

</div>
</div>
<a class="anchor" id="ab1c48052580ebe5df919b6b5505a9bad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classPxParticleExt_1_1IndexPool.html">IndexPool</a>* PxParticleExt::createIndexPool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__foundation.html#ga07326f81f9e8f494487f0ff1e50c0d17">PxU32</a>&#160;</td>
          <td class="paramname"><em>maxParticles</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a PxParticlesExt::IndexPool instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">maxParticles</td><td>Maximum number of available indices. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a78c8337d805702f66993612762e20438"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classPxParticleExt_1_1IndexPool.html">IndexPool</a>* PxParticleExt::createIndexPool </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__foundation.html#ga07326f81f9e8f494487f0ff1e50c0d17">PxU32</a>&#160;</td>
          <td class="paramname"><em>maxParticles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__foundation.html#ga07326f81f9e8f494487f0ff1e50c0d17">PxU32</a>&#160;</td>
          <td class="paramname"><em>validParticleRange</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__foundation.html#ga07326f81f9e8f494487f0ff1e50c0d17">PxU32</a> *&#160;</td>
          <td class="paramname"><em>validParticleBitmap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a PxParticlesExt::IndexPool instance initialized with a preallocated set of indices specified with a bitmap. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">maxParticles</td><td>Maximum number of available indices. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">validParticleRange</td><td>Range of indices represented in validParticleBitmap. (See <a class="el" href="classPxParticleReadData.html#ac8fb8c413f919e1f7e95700a45859c35" title="Index after the last valid particle (PxParticleFlag.eVALID set). Its 0 if there are no valid particle...">PxParticleReadData.validParticleRange</a>). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">validParticleBitmap</td><td>Bitmap specifying the valid particle indices that should be preallocated. (See <a class="el" href="classPxParticleReadData.html#af5fe5cf59728941236f20bcd2aeb7276" title="Bitmap marking valid particle indices. The bitmap is defined between [0, (PxParticleReadData.validParticleRange-1) &gt;&gt; 5].">PxParticleReadData.validParticleBitmap</a>). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="PxParticleExt_8h_source.html">PxParticleExt.h</a></li>
</ul>
</div><!-- contents -->

<hr style="width: 100%; height: 2px;"><br>
Copyright &copy; 2008-2015 NVIDIA Corporation, 2701 San Tomas Expressway, Santa Clara, CA 95050 U.S.A. All rights reserved. <a href="http://www.nvidia.com ">www.nvidia.com</a>
</body>
</html>
